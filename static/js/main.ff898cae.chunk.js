(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/loader.968d3a4a.gif"},11:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),l=a.n(i),o=a(6),s=a(1),c=a(2),u=a(5),d=a(4),m=a(3),h=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderTableHeader",value:function(){return r.a.createElement("th",{colSpan:"4"},this.props.data.month.toUpperCase())}},{key:"renderTableData",value:function(){return this.props.data.holiday.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description))})}},{key:"render",value:function(){return r.a.createElement("tbody",null,r.a.createElement("tr",null,this.renderTableHeader()),this.renderTableData())}}]),a}(n.Component),y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.holidaysData.map(function(e,t){return r.a.createElement(h,{data:e,key:t})});return r.a.createElement("div",null,r.a.createElement("h2",{id:"subTitle"},this.props.country," (Year ",this.props.year,") Holiday List"),r.a.createElement("table",{id:"holidayTable"},e))}}]),a}(n.Component),p=a(7),b=a.n(p),f=a(10),v=a.n(f),E=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={country:"",year:"",selcountry:"",selyear:"",isLoading:!1,isLoaded:!1,isDataEmpty:null,error:null,filteredHolidayList:[]},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t,a=e.target.name,n="sel"+e.target.name;this.setState((t={},Object(o.a)(t,a,e.target.value),Object(o.a)(t,n,e.target.options[e.target.selectedIndex].text),t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.fetchHolidays()}},{key:"filterList",value:function(e){var t=void 0===e;this.setState({isDataEmpty:t});var a=[];e.forEach(function(e){var t={name:e.name,description:e.description,date:e.date.iso,day:e.date.datetime.day,month:"",year:e.date.datetime.year,type:e.type[0]};t.month=["January","February","March","April","May","June","July","August","September","October","November","December"][e.date.datetime.month-1],a.push(t)});var n=b.a.chain(a).groupBy("month").toPairs().map(function(e){return b.a.zipObject(["month","holiday"],e)}).value();this.setState({filteredHolidayList:n}),console.log(this.state.filteredHolidayList)}},{key:"fetchHolidays",value:function(){var e=this,t="https://calendarific.com/api/v2/holidays?api_key=eb00d5d925e8a5428754bcbdef9a88f327a921c4&country="+this.state.country+"&year="+this.state.year;console.log(t),this.setState({isLoading:!0}),fetch(t).then(function(e){return e.json()}).then(function(t){e.filterList(t.response.holidays),e.setState({isLoading:!1,isLoaded:!0})}).catch(function(t){return e.setState({error:!0,isDataEmpty:!0,isLoading:!1,isLoaded:!1})})}},{key:"render",value:function(){for(var e=this.state.isLoading?r.a.createElement("img",{className:"loader",src:v.a,alt:""}):null,t=this.state.isDataEmpty?r.a.createElement("p",{className:"emptyMsg"},"There are no Holidays details available for current selection."):null,a=[],n=0;n<=99;n++)a.push(1950+n);var i=a.map(function(e){return r.a.createElement("option",{key:e},e)});return r.a.createElement("div",null,r.a.createElement("h1",{id:"title"},"Holiday App"),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Select Your Country:",r.a.createElement("select",{name:"country",id:"country",value:this.state.country,onChange:this.handleChange},r.a.createElement("option",{value:""},"---Select Country ---"),r.a.createElement("option",{value:"in"},"India"),r.a.createElement("option",{value:"us"},"Unites States"),r.a.createElement("option",{value:"gb"},"Great Britain"),r.a.createElement("option",{value:"fr"},"France"),r.a.createElement("option",{value:"de"},"Germany"),r.a.createElement("option",{value:"id"},"Indonesia"))),r.a.createElement("label",null,"Select Year:",r.a.createElement("select",{name:"year",id:"year",value:this.state.year,onChange:this.handleChange},r.a.createElement("option",{value:""},"---Select Year ---"),i)),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn"})),e,t,this.state.isLoaded&&!this.state.isLoading&&void 0!==this.state.filteredHolidayList&&r.a.createElement(y,{holidaysData:this.state.filteredHolidayList,country:this.state.selcountry,year:this.state.selyear})))}}]),a}(n.Component);a(18);var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))};l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.ff898cae.chunk.js.map